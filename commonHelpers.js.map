{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/js/loadMore.js","../src/main.js"],"sourcesContent":["\n\nexport function renderImg(webformatURL, largeImageURL, tags, likes, views, comments, downloads) {\n\n  const container = document.querySelector('.gallery')\n  const markup =\n    `<li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n      <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-img\">\n      </a>\n        <div class=\"text-wrap\">\n          <p class=\"img-text\">Likes <span class=\"img-text-span\">${likes}</span></p>\n          <p class=\"img-text\">Views <span class=\"img-text-span\">${views}</span></p>\n          <p class=\"img-text\">Comments <span class=\"img-text-span\">${comments}</span></p>\n          <p class=\"img-text\">Downloads <span class=\"img-text-span\">${downloads}</span></p>\n        </div>\n    </li>`\n\n  container.insertAdjacentHTML('afterbegin', markup);\n\n}\n\n\n\n\n\n\n\n","import axios from 'axios';\n\n\nexport async function searchImg(query) {\n\n\n  const API_KEY = '44806225-40e07737f22f709bd193bb0f7';\n  const URL = `https://pixabay.com/api/?key=${API_KEY}`;\n  const imageType = 'photo';\n  const orientation = 'horizontal';\n  const safeSearch = true;\n\n  let currentPage = 1;\n  try {\n    const response = await axios.get(`${URL}&q=${query}&image_type=${imageType}&orientation=${orientation}&safesearch=${safeSearch}&page=${currentPage}&per_page=15`)\n    return response.data;\n  } catch (error) {\n    console.error(error)\n  }\n}\n\n\n","\nconst hiddenClass = \"is-hidden\";\n\nfunction hide(btnMore) {\n  btnMore.classList.add(hiddenClass)\n}\n\nfunction show(btnMore) {\n  btnMore.classList.remove(hiddenClass)\n\n}\n\nfunction disable(btnMore) {\n  btnMore.disabled = true;\n  // spinner.classList.remove(hiddenClass)\n\n}\n\nfunction enable(btnMore) {\n  btnMore.disabled = false;\n  // spinner.classList.add(hiddenClass)\n\n}\n\nexport default { hide, show, disable, enable }","import './js/render-functions'\nimport './js/pixabay-api'\nimport SimpleLightbox from \"simplelightbox\";\n\n\nimport iziToast from \"izitoast\";\nimport { searchImg } from './js/pixabay-api'\nimport { renderImg } from './js/render-functions'\n\nimport buttonService from \"./js/loadMore\"\n\n\nconst spin = document.querySelector('.loader')\nspin.style.opacity = 0;\n\nconst btnMore = document.querySelector('.page-btn')\nbuttonService.hide(btnMore)\n\n\n// !HANDLE SEARCH\nconst form = document.querySelector('.form');\nform.addEventListener(\"submit\", handelSearch);\n\nasync function handelSearch(e) {\n\n  document.querySelector('.gallery').innerHTML = \"\";\n\n  e.preventDefault();\n  spin.style.opacity = 1;\n\n  const formTarget = e.currentTarget;\n  const queryValue = formTarget.elements.query.value.trim().toLowerCase();\n\n  if (queryValue.length <= 0) {\n    iziToast.show({\n      backgroundColor: '#ef4040',\n      messageColor: '#fff',\n      messageSize: '16px',\n      position: 'topRight',\n      message: 'Please write something in the search field'\n    })\n\n    spin.style.opacity = 0;\n    form.reset();\n    return;\n\n  }\n\n  buttonService.show(btnMore)\n  buttonService.disable(btnMore)\n\n  try {\n\n    await searchImg(queryValue)\n      .then(returnImg)\n\n  } catch (error) {\n    fetchError(error)\n  }\n\n}\n\nlet galleryShow = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionType: 'attr',\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\n\n\n// !RETURN IMG\nfunction returnImg(data) {\n  const results = data.hits;\n  const totalRes = data.totalHits;\n\n  if (totalRes === 0) {\n    iziToast.error({\n      backgroundColor: '#ef4040',\n      messageColor: '#fff',\n      messageSize: '16px',\n      position: 'topRight',\n      message: 'Sorry, there are no images matching your search query. Please try again!'\n    })\n  } else {\n    results.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n      renderImg(webformatURL, largeImageURL, tags, likes, views, comments, downloads);\n    })\n  }\n\n  galleryShow.on('show.simplelightbox', function () {\n  });\n\n  galleryShow.refresh()\n\n  spin.style.opacity = '0';\n}\n\n\n// !FETCH ERROR\nfunction fetchError() {\n  iziToast.error({\n    backgroundColor: '#ef4040',\n    messageColor: '#fff',\n    messageSize: '16px',\n    position: 'topRight',\n    message: 'Sorry, there are no images matching your search query. Please try again!'\n  })\n}"],"names":["renderImg","webformatURL","largeImageURL","tags","likes","views","comments","downloads","container","markup","searchImg","query","URL","imageType","orientation","safeSearch","currentPage","axios","error","hiddenClass","hide","btnMore","show","disable","enable","buttonService","spin","form","handelSearch","e","queryValue","iziToast","returnImg","fetchError","galleryShow","SimpleLightbox","data","results"],"mappings":"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"}